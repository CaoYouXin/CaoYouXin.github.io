<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Page Slides</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.min.css">
    <style>
        *, *:before, *:after {
            margin: 0;
            padding: 0;
            border: 0 none;
            font-weight: lighter;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        ul.pageslides {
            position: fixed;
            height: 100%;
            list-style: none;
        }

        ul.pageslides > li.pageslide {
            display: block;
            float: left;
            height: 100%;
            padding: 0 80px;
        }

        iframe {
            width: 100%;
            height: 100%;
        }

        .animation {
            -moz-transition: transform 0.8s;
            -o-transition: transform 0.8s;
            -webkit-transition: transform 0.8s;
            transition: transform 0.8s;
        }

        div.pager {
            position: fixed;
            z-index: 999999999;
            top: 0;

            width: 80px;
            height: 100%;

            text-align: center;
            color: white;
            background-color: transparent;
        }

        div.pager > svg {
            position: relative;
            top: 50%;

            width: 80px;
            height: 50%;

            background: -webkit-gradient(linear, 0 0, 0 100%, from(rgba(0, 0, 0, 0.6)), to(rgba(0, 0, 0, 0)));
            -webkit-box-reflect: above 0 -webkit-gradient(linear, 0 0, 0 100%, from(rgba(0, 0, 0, 1)), to(rgba(0, 0, 0, 0.6)));
        }
    </style>
    <script type="text/javascript" src="javascripts/require.min.js"></script>
    <script>
        require.config({
            baseUrl: '.',
            paths: {
                'jquery': 'javascripts/jquery.min',
                'handlebars': 'javascripts/handlebars.min'
            }
        });

        var _onload = window.onload || function() {};
        window.onload = function () {
            _onload();

            require(['jquery'], function ($) {
                var windowWidth = $(window).width();

                $('#left').click(function (event) {
                    event.preventDefault();

                    var $ul = $('ul.pageslides');
                    var attr = $ul.attr('style');
                    var transform = attr.match(/.*translateX\((-?\d*)px\);$/);
                    if (!transform) {
                        return false;
                    }

                    var curX = parseInt(transform[1]);
                    if (curX >= 0) {
                        return false;
                    }

                    $ul.css('transform', 'translateX(' + (curX += windowWidth) + 'px)');
                    var children = $ul.children('li.pageslide');
                    children.removeClass('active');
                    children.eq(Math.abs(curX) / windowWidth).addClass('active');
                });

                $('#right').click(function (event) {
                    event.preventDefault();

                    var $ul = $('ul.pageslides');
                    var attr = $ul.attr('style');
                    var transform = attr.match(/.*translateX\((-?\d*)px\);$/);
                    if (!transform) {
                        return false;
                    }

                    var curX = parseInt(transform[1]);
                    if (curX <= (0 - $ul.width() + windowWidth)) {
                        return false;
                    }

                    $ul.css('transform', 'translateX(' + (curX -= windowWidth) + 'px)');
                    var children = $ul.children('li.pageslide');
                    children.removeClass('active');
                    children.eq(Math.abs(curX) / windowWidth).addClass('active');
                });
            });

            require(['toonly/javascripts/only-pageslide'], function (pageSlide) {
                pageSlide.init();
                pageSlide.go('index_.html');
            });
        };
    </script>
</head>
<body>
<ul class="pageslides animation"></ul>
<div id="left" class="pager" style="left: 0;"><svg><path style="fill:#ffff00;" d="M10 0 L70 50 L70 0"></path></svg></div>
<div id="right" class="pager" style="right: 0;"><svg><path style="fill:#ffff00;" d="M10 0 L10 50 L70 0"></path></svg></div>
</body>
</html>