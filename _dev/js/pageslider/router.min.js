!function(t){function r(t){if(n=n.reverse(),n.shift(),n=n.reverse(),t.state&&t.state.skip&&(o=t.state.skip),o>0)return o--,history.back(),!1;var r=t.state.handler;r&&e[r]&&e[r](t.state.url)}var e={},n=[],o=null;window.onpopstate=r,window.Router={rootHref:t,go:function(r,o){if(r.match(/.*?:\/\/(.*?)\/.*/))return void(location.href=r);r.match(new RegExp("^\\"+t))||(r=t+r);var i=n.indexOf(r);if(i!==-1){var s=n.length-i;return n.push(null),n.push(null),history.pushState({skip:s},"",r),history.pushState(null,"",location.href),void setTimeout(function(){history.back()},1)}n.push(r),n.push(null);var u=md5(o.toString());e[u]=o,history.pushState({handler:u,url:r},"",r),history.pushState(null,"",location.href),setTimeout(function(){history.back()},1)},init:function(r,o){var i,s,u=md5(o.toString());for(e[u]=o,i=0;i<r.length;i++){if(s=r[i],s.match(/.*?:\/\/(.*?)\/.*/))return void alert("urls incorrect!");s.indexOf(t)===-1&&(r[i]=t+s),n.push(s),history.pushState({handler:u,url:s},"",s)}n.push(null),history.pushState(null,"",location.href),history.back()}}}(window.parseHref().rootHref);