!function(e,t){return!!e&&(t._3d=function(e){var t=this.Canvas=document.querySelector(e);this.Camera=new THREE.PerspectiveCamera(45,t.clientWidth/t.clientHeight,1,2e3),this.Scene=new THREE.Scene,this.Scene.add(new THREE.AmbientLight(16777215)),this.RequestFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},this.Clock=new THREE.Clock},t._3d.prototype.Action=function(e){var n=this.Canvas,i=this.Camera,r=this.Renderer=new THREE.WebGLRenderer({canvas:n});if(r.setPixelRatio(t.devicePixelRatio),r.setSize(n.clientWidth,n.clientHeight),e){var a=this.Stats=new Stats;document.body.appendChild(a.dom)}return t.addEventListener("resize",function(){i.aspect=n.clientWidth/n.clientHeight,i.updateProjectionMatrix(),r.setSize(n.clientWidth,n.clientHeight)},!1),this},t._3d.prototype.Loop=function(e){var n=this.Clock.getDelta();THREE.AnimationHandler.update(n),this.Renderer.render(this.Scene,this.Camera),this.Stats&&this.Stats.update(),this.renderFn=this.renderFn?this.renderFn:e,this.renderFn(n),this.RequestFrame.call(t,this.Loop.bind(this))},t._3d.prototype.ProgressBar=function(e){var t,n,i=document.querySelector(e),r=0,a=function(){},o=[],s=!1;return{init:function(e){t=100/e,n=e},upTogo:function(e){e?r=e/n*100:r+=t,i.innerHTML=r.toFixed(2)+"% completed",!s&&99.9<=r&&(s=!s,i.style.display="none",a.apply(null,o))},cb:function(e,t){a=e,o=t||[]}}},t._3d.prototype.Group=function(e){function t(e,t,n){e.position.x=t.x,e.position.y=t.y,e.position.z=t.z,e.updateMatrix(),"[object Array]"===Object.prototype.toString.call(n)&&(e.rotation.set.apply(null,n),e.updateMatrix())}var n=e,i=new THREE.Object3D;return i.position.x=n.x,i.position.y=n.y,i.position.z=n.z,this.Scene.add(i),{add:function(e,n,r){t(e,n,r),i.add(e)},update:function(e,n){t(i,e,n)}}},void(t._3d.prototype.VideoBox=function(){var e=this;return e.globalCursor=0,{init:function(t,n){return e.ratio=t,e.keyProps=n,e.aniSeq=[],e.aniCursor=0,e.lastKeyFrame=null,{add:function(t){if(t.duration=1e3,t.accumulatedDur=0,!e.lastKeyFrame)return e.lastKeyFrame=t,this;t.accumulatedDur=e.lastKeyFrame.accumulatedDur;var n=t.time-e.lastKeyFrame.time;return e.keyProps.forEach(function(i){e.lastKeyFrame["_v_"+i]=(t[i]-e.lastKeyFrame[i])/n}),this.end(n),this},end:function(t){return void 0!==t&&t>0?(e.lastKeyFrame.duration=t,e.lastKeyFrame.accumulatedDur+=t):e.lastKeyFrame.accumulatedDur+=e.lastKeyFrame.duration,e.aniSeq.push(e.lastKeyFrame),e.needsUpdate=!0,this},renderFn:function(t){return e.renderFn=t,this}}},render:function(t){e.globalCursor+=t;var n=findFrame();e.renderFn(n)},len:function(){return e.needsUpdate&&(e.len=e.aniSeq[e.aniSeq.length-1].accumulatedDur,e.needsUpdate=!1),e.len},goTo:function(t){e.globalCursor=t;var n=findFrame();e.renderFn(n)}}}))}(THREE,window);