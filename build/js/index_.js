!function(t,e){function n(t){var e=t.categories,n=[!0],r=[];Object.keys(e).map(function(t){return e[t].lastUpdateTime=e[t].sort(function(t,e){return e.lastUpdateTime-t.lastUpdateTime}).reduce(function(t,e){return e.lastUpdateTime>t?e.lastUpdateTime:t},Number.MIN_VALUE),t}).sort(function(t,n){return e[n].lastUpdateTime-e[t].lastUpdateTime}).forEach(function(t){n.push(t)}),console.log("_categories",t.categories);for(var o=1,a=n;o<a.length;o++){var i=e[a[o]],s=i.length%3===0?i.length/3:Math.floor(i.length/3)+1;i.forEach(function(t){t.blog_width=100/s}),r.push({group:a[o],blogs:i,blogs_width:100*s,pager:1===s?"":" pager"})}return r}function r(t,e,n){for(var r=window.getComputedStyle(t.target,":after"),o=+r.height.match(/(\d+)/)[0],a=t.target.offsetTop+t.target.offsetHeight-20-o,i=[a,a+o],s=+r.width.match(/(\d+)/)[0],l=t.target.offsetLeft+t.target.offsetWidth-20-s,u=[],d=s/4,f=0;f<5;f++)u.push(l+f*d);if(c(t.clientY+document.body.scrollTop,i)){var m=c(t.clientX,u);m?e(m-1):n()}else n(t)}function o(t,e){if("A"===t.tagName){var n=t.getAttribute("data-rel");if(n)return e.preventDefault(),window.top.Router.go(n,window.top.PageSlider.go),!0}else"UL"===t.tagName&&console.log(e.clientX,e.clientY)}function a(t){return function(){return t}}function i(t,e){return function(n){var r=t.style.width.match(/(\d+)00/)[1],o=(t.style.transform.match(/(\d+)/)||[0])[0],a=100/r;!function(e){t.style.transform="translateX(-"+e+"%)"}(e[n](o,a))}}function s(t){var n=(new Date).getTime();if(Math.abs(u-n)<400)return!0;if(u=n,t.target.classList.contains("project-tagline")&&t.target.classList.contains("btn"))return t.preventDefault(),window.top.store.clear(),window.top.location.href=e,!0;if(t.target.classList.contains("desc"))return t.preventDefault(),window.top.store.clear(),window.top.location.href=e,!0;if(t.target.classList.contains("blogs-wrapper"))return r(t,i(t.target.firstElementChild,[a(0),function(t,e){return Math.max(0,t-e)},function(t,e){return Math.min(100-e,t+e)},function(t,e){return 100-e}]),function(){}),!0;var s=t.target;do if(o(s,t))return!0;while(s=s.parentElement)}function c(t,e){if(2===e.length)return t>=e[0]&&t<e[1];for(var n=1;n<e.length;n++)if(t>=e[n-1]&&t<e[n])return n}function l(t){var e=(new Date).getTime();return Math.abs(u-e)<d||(u=e,t.target.classList.contains("blogs-wrapper")?(r(t,function(e){d=100,t.target.setAttribute("data-pager",["<̲<̲   <   >   >>","<<   <̲   >   >>","<<   <   >̲   >>","<<   <   >   >̲>̲"][e])},function(){d=800,t.target.setAttribute("data-pager","<<   <   >   >>")}),!0):void 0)}var u=0,d=800;document.addEventListener("touchend",s),document.addEventListener("click",s),document.addEventListener("mousemove",l);var f=new window.top.Hammer(document,{direction:window.top.Hammer.DIRECTION_HORIZONTAL});f.on("swipe",function(t){console.log(t);var e=t.target;do if(e.classList.contains("blogs-wrapper"))return void i(e.firstElementChild,[a(0),a(0),function(t,e){return Math.min(100-e,t+e)},a(0),function(t,e){return Math.max(0,t-e)}])(t.offsetDirection);while(e=e.parentElement)}),t.all([t.getJSON(e+"build/posts/articles.json"),t.ajax(e+"build/x-handlebars-templates/article_list.html"),t.script(document,e+"build/js/duoshuo.js")]).then(function(t){var e=window.top.Handlebars.compile(t[1])(n(t[0])),r=document.getElementById("article_list");r.innerHTML=e});var m=document.createElement("div");m.id="resume",m.onclick=function(){this.classList.remove("show")},document.querySelector("section.page-header").appendChild(m),document.getElementById("resume-marker").onclick=function(){m.classList.add("show")}}(window.top.ES6Promise.Promise,window.top.Router.rootHref);