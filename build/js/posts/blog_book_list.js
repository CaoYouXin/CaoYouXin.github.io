!function(t,e,n){function o(t,e){if("DIV"===t.tagName&&t.classList.contains("book-content"))return e.preventDefault(),t.classList.toggle("active"),!0}function r(t){var e=(new Date).getTime();if(Math.abs(s-e)<400)return!0;s=e;var n=i.indexOf(t.target);if(-1!==n)return t.preventDefault(),a.style.transform="translateX(-"+33.33*n+"%)",i.forEach(function(t){t.classList.remove("active")}),t.target.classList.add("active"),!0;if(t.target.classList.contains("show-full-cover")){t.preventDefault();var r=t.target.nextSibling;do if("DIV"===r.tagName&&r.classList.contains("book-content"))return r.classList.toggle("hidden"),t.target.innerHTML=r.classList.contains("hidden")?"-":"+",!0;while(r=r.nextSibling)}var l=t.target;do if(o(l,t))return!0;while(l=l.parentElement)}t.script(document,e+"build/js/post.js");var i=Array.from(document.querySelectorAll(".btns > span.btn")),a=document.querySelector("ul.book-list-show"),s=0;document.addEventListener("touchend",r),document.addEventListener("click",r),t.all([t.script(document,e+"3rdLib/prism/prism.min.js"),t.ajax(e+"build/json/books.json"),t.ajax(e+"build/x-handlebars-templates/favorite_book_list.html")]).then(function(e){var o=document.getElementById("code");o.innerHTML=window.Prism.highlight(e[1],window.Prism.languages.json);var r=document.querySelector("#table > tbody"),i=JSON.parse(e[1]),a=["name","author","category","publish_time","publish_org","introduction","state","cover_url"];i.forEach(function(t){var e=document.createElement("tr");a.forEach(function(n){var o=document.createElement("td");"cover_url"===n?o.innerHTML='<div style="width: 100px;height: 150px;margin: 10px;background: rgba(0,0,0,.5) url('+t[n]+') no-repeat top;background-size: contain;"></div>':o.innerHTML=t[n],e.appendChild(o)}),r.appendChild(e);var n=~~(Math.random()*(1<<24)),o=n.toString(16);t.bgColor="#"+"000000".substring(o.length)+o,t.color=n>1<<23?"#000000":"#ffffff"});var s=document.getElementById("favorite");t.append(s,n.compile(e[2])(i))}).then(function(){console.log(document.getElementById("code").offsetHeight),console.log(document.getElementById("table").offsetHeight),console.log(document.getElementById("favorite").offsetHeight)})}(window.top.ES6Promise.Promise,window.top.Router.rootHref,window.top.Handlebars);