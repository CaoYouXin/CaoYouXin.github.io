!function(e,t){function o(e,t,o){e.rotation.set(0,t/180*Math.PI,o/180*Math.PI),e.updateMatrix()}e.all([e.script(document,t+"build/js/3d/3d_.min.js"),e.script(document,t+"build/js/back_to_index.js")]).then(function(){var e=window._3d,t=new e("#canvas"),a=new THREE.Group;t.Scene.add(a),console.log(t.Scene);var n=t.ProgressBar("#h5-msg > span"),r=!1;n.cb(function(){var e=0;t.Action(!0).Loop(function(o){e+=.5*o,t.Camera.position.x=100*Math.cos(-116/180*Math.PI)*Math.cos(40/180*Math.PI),t.Camera.position.y=100*Math.sin(40/180*Math.PI),t.Camera.position.z=100*Math.sin(-116/180*Math.PI)*Math.cos(40/180*Math.PI),t.Camera.lookAt(t.Scene.position)})});var i=new THREE.TextureLoader;i.load("http://image.caols.tech/earth/2_no_clouds_8k.jpg",function(e){e.anisotropy=1,e.wrapS=e.wrapT=THREE.RepeatWrapping,e.repeat.set(1,1),e.mapping=THREE.UVMapping;var n=30,r=new THREE.SphereGeometry(n,32,32,0,2*Math.PI,0,Math.PI),i=new THREE.MeshPhongMaterial({map:e,color:16777215}),s=new THREE.Mesh(r,i);t.Scene.add(s);var c=new THREE.Mesh(new THREE.TorusGeometry(30,.5,8,100),new THREE.MeshBasicMaterial({color:16776960}));c.rotation.set(Math.PI/2,0,0),c.updateMatrix(),t.Scene.add(c);var p=[[1,1],[-1,1],[-1,-1],[1,-1]],h=[[1.3,0],[.7,.6],[.7,.1],[.1,.1],[.1,.7],[.6,.7],[0,1.3]],d=2,E=(n+1)*(n+1);p.forEach(function(e){var t=new THREE.Geometry;h.forEach(function(o,a){if(a+1!==h.length){var n=d3.interpolate(o[0],h[a+1][0]),r=d3.interpolate(o[1],h[a+1][1]),i=new THREE.Vector3(Math.sqrt(E-(o[0]*o[0]+o[1]*o[1])*d*d),d*e[0]*o[0],d*e[1]*o[1]);t.vertices.push(i),e[2]?t.vertices.push(i.clone()):e[2]=!0;for(var s=.1;s<=1;s+=.1){var c=n(s),p=r(s),l=new THREE.Vector3(Math.sqrt(E-(c*c+p*p)*d*d),d*e[0]*c,d*e[1]*p);t.vertices.push(l),t.vertices.push(l.clone())}}}),t.vertices.splice(t.vertices.length-1,1),a.add(new THREE.LineSegments(t,new THREE.LineBasicMaterial({color:16777215})))}),o(a,116,40)},function(e){r||(n.init(e.total),r=!r),n.upTogo(e.loaded),console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")})})}(window.top.ES6Promise.Promise,window.top.Router.rootHref);