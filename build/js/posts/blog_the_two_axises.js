!function(e,o){function t(e,o,t){e.rotation.set(0,o/180*Math.PI,t/180*Math.PI),e.updateMatrix()}e.all([e.script(document,o+"build/js/3d/3d_.min.js"),e.script(document,o+"build/js/back_to_index.js")]).then(function(){var e=window._3d,o=new e("#canvas"),a=new THREE.Group;o.Scene.add(a),console.log(o.Scene);var n=o.ProgressBar("#h5-msg > span"),r=!1;n.cb(function(){var e=0;o.Action(!0).Loop(function(t){e+=.5*t,o.Camera.position.x=100*Math.cos(e)*Math.cos(40/180*Math.PI),o.Camera.position.y=100*Math.sin(40/180*Math.PI),o.Camera.position.z=100*Math.sin(e)*Math.cos(40/180*Math.PI),o.Camera.lookAt(o.Scene.position)})});var i=new THREE.TextureLoader;i.load("http://image.caols.tech/earth/2_no_clouds_8k.jpg",function(e){e.anisotropy=1,e.wrapS=e.wrapT=THREE.RepeatWrapping,e.repeat.set(1,1),e.mapping=THREE.UVMapping;var n=30,r=new THREE.SphereGeometry(n,32,32,0,2*Math.PI,0,Math.PI),i=new THREE.MeshPhongMaterial({map:e,color:16777215}),s=new THREE.Mesh(r,i);o.Scene.add(s);var c=new THREE.Mesh(new THREE.TorusGeometry(30,.5,8,100),new THREE.MeshBasicMaterial({color:16776960}));c.rotation.set(Math.PI/2,0,0),c.updateMatrix(),o.Scene.add(c);var p=[[1,1],[-1,1],[-1,-1],[1,-1]],h=[[1.3,0],[.7,.6],[.7,.1],[.1,.1],[.1,.7],[.6,.7],[0,1.3]],d=2,E=(n+1)*(n+1);p.forEach(function(e){var o=new THREE.Geometry;h.forEach(function(t,a){if(a+1!==h.length){var n=d3.interpolate(t[0],h[a+1][0]),r=d3.interpolate(t[1],h[a+1][1]),i=new THREE.Vector3(Math.sqrt(E-(t[0]*t[0]+t[1]*t[1])*d*d),d*e[0]*t[0],d*e[1]*t[1]);o.vertices.push(i),e[2]?o.vertices.push(i.clone()):e[2]=!0;for(var s=.1;s<=1;s+=.1){var c=n(s),p=r(s),l=new THREE.Vector3(Math.sqrt(E-(c*c+p*p)*d*d),d*e[0]*c,d*e[1]*p);o.vertices.push(l),o.vertices.push(l.clone())}}}),o.vertices.splice(o.vertices.length-1,1),a.add(new THREE.LineSegments(o,new THREE.LineBasicMaterial({color:16777215})))}),t(a,116,40)},function(e){r||(n.init(e.total),r=!r),n.upTogo(e.loaded),console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")})})}(window.top.ES6Promise.Promise,window.top.Router.rootHref);